<h1>Selecione Jogadores</h1>
<%= form_tag form_teams_players_path, method: :post do %>
  <% @players.each do |player| %>
    <label>
      <%= check_box_tag 'player_ids[]', player.id %>
      <%= player.name %> - <%= player.score %>
    </label><br>
  <% end %>
  <%= submit_tag 'Formar Times', id: 'form-teams-btn', disabled: true %>
<% end %>

<script>
  document.addEventListener('DOMContentLoaded', function() {
    var maxPlayers = 12;
    var formTeamsBtn = document.getElementById('form-teams-btn');
    var checkboxes = document.querySelectorAll('input[type="checkbox"]');

    checkboxes.forEach(function(checkbox) {
      checkbox.addEventListener('change', function() {
        var selectedPlayers = document.querySelectorAll('input[type="checkbox"]:checked').length;

        if (selectedPlayers <= maxPlayers) {
          formTeamsBtn.disabled = selectedPlayers < 12;
        } else {
          this.checked = false;
        }
      });
    });
  });
</script>
